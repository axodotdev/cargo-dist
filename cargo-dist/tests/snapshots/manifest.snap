---
source: cargo-dist/tests/cli-tests.rs
expression: format_outputs(&output)
---
stdout:
{
  "dist_version": "1.0.0-FAKEVERSION",
  "announcement_tag": "CENSORED",
  "announcement_tag_is_implicit": true,
  "announcement_is_prerelease": "CENSORED"
  "announcement_title": "CENSORED"
  "announcement_changelog": "CENSORED"
  "announcement_github_body": "CENSORED"
  "releases": [
    {
      "app_name": "dist",
      "app_version": "1.0.0-FAKEVERSION",
      "env": {
        "install_dir_env_var": "DIST_INSTALL_DIR",
        "unmanaged_dir_env_var": "DIST_UNMANAGED_INSTALL",
        "disable_update_env_var": "DIST_DISABLE_UPDATE",
        "no_modify_path_env_var": "DIST_NO_MODIFY_PATH",
        "github_base_url_env_var": "DIST_INSTALLER_GITHUB_BASE_URL",
        "ghe_base_url_env_var": "DIST_INSTALLER_GHE_BASE_URL"
      },
      "display_name": "dist",
      "display": true,
      "artifacts": [
        "source.tar.gz",
        "source.tar.gz.sha256",
        "dist-manifest-schema.json",
        "dist-installer.sh",
        "dist-installer.ps1",
        "dist.rb",
        "dist-npm-package.tar.gz",
        "sha256.sum",
        "dist-aarch64-apple-darwin.tar.xz",
        "dist-aarch64-apple-darwin.tar.xz.sha256",
        "dist-aarch64-unknown-linux-gnu.tar.xz",
        "dist-aarch64-unknown-linux-gnu.tar.xz.sha256",
        "dist-aarch64-unknown-linux-musl.tar.xz",
        "dist-aarch64-unknown-linux-musl.tar.xz.sha256",
        "dist-x86_64-apple-darwin.tar.xz",
        "dist-x86_64-apple-darwin.tar.xz.sha256",
        "dist-x86_64-pc-windows-msvc.zip",
        "dist-x86_64-pc-windows-msvc.zip.sha256",
        "dist-x86_64-unknown-linux-gnu.tar.xz",
        "dist-x86_64-unknown-linux-gnu.tar.xz.sha256",
        "dist-x86_64-unknown-linux-musl.tar.xz",
        "dist-x86_64-unknown-linux-musl.tar.xz.sha256"
      ],
      "hosting": {
        "github": {
          "artifact_base_url": "https://github.com",
          "artifact_download_path": "/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION",
          "owner": "axodotdev",
          "repo": "cargo-dist"
        },
        "axodotdev": {
          "package": "dist",
          "public_id": "fake-id-do-not-upload",
          "set_download_url": "https://fake.axo.dev/faker/dist/fake-id-do-not-upload",
          "upload_url": null,
          "release_url": null,
          "announce_url": null
        }
      }
    }
  ],
  "artifacts": {
    "dist-aarch64-apple-darwin.tar.xz": {
      "name": "dist-aarch64-apple-darwin.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "aarch64-apple-darwin"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-aarch64-apple-darwin-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-aarch64-apple-darwin.tar.xz.sha256"
    },
    "dist-aarch64-apple-darwin.tar.xz.sha256": {
      "name": "dist-aarch64-apple-darwin.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "aarch64-apple-darwin"
      ]
    },
    "dist-aarch64-unknown-linux-gnu.tar.xz": {
      "name": "dist-aarch64-unknown-linux-gnu.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "aarch64-unknown-linux-gnu"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-aarch64-unknown-linux-gnu-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-aarch64-unknown-linux-gnu.tar.xz.sha256"
    },
    "dist-aarch64-unknown-linux-gnu.tar.xz.sha256": {
      "name": "dist-aarch64-unknown-linux-gnu.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "aarch64-unknown-linux-gnu"
      ]
    },
    "dist-aarch64-unknown-linux-musl.tar.xz": {
      "name": "dist-aarch64-unknown-linux-musl.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "aarch64-unknown-linux-musl"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-aarch64-unknown-linux-musl-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-aarch64-unknown-linux-musl.tar.xz.sha256"
    },
    "dist-aarch64-unknown-linux-musl.tar.xz.sha256": {
      "name": "dist-aarch64-unknown-linux-musl.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "aarch64-unknown-linux-musl"
      ]
    },
    "dist-installer.ps1": {
      "name": "dist-installer.ps1",
      "kind": "installer",
      "target_triples": [
        "aarch64-pc-windows-msvc",
        "x86_64-pc-windows-gnu",
        "x86_64-pc-windows-msvc"
      ],
      "install_hint": "powershell -ExecutionPolicy Bypass -c \"irm https://fake.axo.dev/faker/dist/fake-id-do-not-upload/dist-installer.ps1 | iex\"",
      "description": "Install prebuilt binaries via powershell script"
    },
    "dist-installer.sh": {
      "name": "dist-installer.sh",
      "kind": "installer",
      "target_triples": [
        "aarch64-apple-darwin",
        "aarch64-unknown-linux-gnu",
        "aarch64-unknown-linux-musl-dynamic",
        "aarch64-unknown-linux-musl-static",
        "x86_64-apple-darwin",
        "x86_64-pc-windows-gnu",
        "x86_64-unknown-linux-gnu",
        "x86_64-unknown-linux-musl-dynamic",
        "x86_64-unknown-linux-musl-static"
      ],
      "install_hint": "curl --proto '=https' --tlsv1.2 -LsSf https://fake.axo.dev/faker/dist/fake-id-do-not-upload/dist-installer.sh | sh",
      "description": "Install prebuilt binaries via shell script"
    },
    "dist-manifest-schema.json": {
      "name": "dist-manifest-schema.json",
      "kind": "extra-artifact"
    },
    "dist-npm-package.tar.gz": {
      "name": "dist-npm-package.tar.gz",
      "kind": "installer",
      "target_triples": [
        "aarch64-apple-darwin",
        "aarch64-pc-windows-msvc",
        "aarch64-unknown-linux-gnu",
        "aarch64-unknown-linux-musl-dynamic",
        "aarch64-unknown-linux-musl-static",
        "x86_64-apple-darwin",
        "x86_64-pc-windows-gnu",
        "x86_64-pc-windows-msvc",
        "x86_64-unknown-linux-gnu",
        "x86_64-unknown-linux-musl-dynamic",
        "x86_64-unknown-linux-musl-static"
      ],
      "assets": [
        {
          "name": ".gitignore",
          "path": ".gitignore",
          "kind": "unknown"
        },
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "name": "binary-install.js",
          "path": "binary-install.js",
          "kind": "unknown"
        },
        {
          "name": "binary.js",
          "path": "binary.js",
          "kind": "unknown"
        },
        {
          "name": "install.js",
          "path": "install.js",
          "kind": "unknown"
        },
        {
          "name": "npm-shrinkwrap.json",
          "path": "npm-shrinkwrap.json",
          "kind": "unknown"
        },
        {
          "name": "package.json",
          "path": "package.json",
          "kind": "unknown"
        },
        {
          "name": "run.js",
          "path": "run.js",
          "kind": "unknown"
        }
      ],
      "install_hint": "npm install @axodotdev/dist@1.0.0-FAKEVERSION",
      "description": "Install prebuilt binaries into your npm project"
    },
    "dist-x86_64-apple-darwin.tar.xz": {
      "name": "dist-x86_64-apple-darwin.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "x86_64-apple-darwin"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-x86_64-apple-darwin-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-x86_64-apple-darwin.tar.xz.sha256"
    },
    "dist-x86_64-apple-darwin.tar.xz.sha256": {
      "name": "dist-x86_64-apple-darwin.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "x86_64-apple-darwin"
      ]
    },
    "dist-x86_64-pc-windows-msvc.zip": {
      "name": "dist-x86_64-pc-windows-msvc.zip",
      "kind": "executable-zip",
      "target_triples": [
        "x86_64-pc-windows-msvc"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-x86_64-pc-windows-msvc-exe-dist",
          "name": "dist",
          "path": "dist.exe",
          "kind": "executable"
        }
      ],
      "checksum": "dist-x86_64-pc-windows-msvc.zip.sha256"
    },
    "dist-x86_64-pc-windows-msvc.zip.sha256": {
      "name": "dist-x86_64-pc-windows-msvc.zip.sha256",
      "kind": "checksum",
      "target_triples": [
        "x86_64-pc-windows-msvc"
      ]
    },
    "dist-x86_64-unknown-linux-gnu.tar.xz": {
      "name": "dist-x86_64-unknown-linux-gnu.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "x86_64-unknown-linux-gnu"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-x86_64-unknown-linux-gnu-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-x86_64-unknown-linux-gnu.tar.xz.sha256"
    },
    "dist-x86_64-unknown-linux-gnu.tar.xz.sha256": {
      "name": "dist-x86_64-unknown-linux-gnu.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "x86_64-unknown-linux-gnu"
      ]
    },
    "dist-x86_64-unknown-linux-musl.tar.xz": {
      "name": "dist-x86_64-unknown-linux-musl.tar.xz",
      "kind": "executable-zip",
      "target_triples": [
        "x86_64-unknown-linux-musl"
      ],
      "assets": [
        {
          "name": "CHANGELOG.md",
          "path": "CHANGELOG.md",
          "kind": "changelog"
        },
        {
          "name": "LICENSE-APACHE",
          "path": "LICENSE-APACHE",
          "kind": "license"
        },
        {
          "name": "LICENSE-MIT",
          "path": "LICENSE-MIT",
          "kind": "license"
        },
        {
          "name": "README.md",
          "path": "README.md",
          "kind": "readme"
        },
        {
          "id": "dist-x86_64-unknown-linux-musl-exe-dist",
          "name": "dist",
          "path": "dist",
          "kind": "executable"
        }
      ],
      "checksum": "dist-x86_64-unknown-linux-musl.tar.xz.sha256"
    },
    "dist-x86_64-unknown-linux-musl.tar.xz.sha256": {
      "name": "dist-x86_64-unknown-linux-musl.tar.xz.sha256",
      "kind": "checksum",
      "target_triples": [
        "x86_64-unknown-linux-musl"
      ]
    },
    "dist.rb": {
      "name": "dist.rb",
      "kind": "installer",
      "target_triples": [
        "aarch64-apple-darwin",
        "aarch64-unknown-linux-gnu",
        "aarch64-unknown-linux-musl-dynamic",
        "aarch64-unknown-linux-musl-static",
        "x86_64-apple-darwin",
        "x86_64-pc-windows-gnu",
        "x86_64-unknown-linux-gnu",
        "x86_64-unknown-linux-musl-dynamic",
        "x86_64-unknown-linux-musl-static"
      ],
      "install_hint": "brew install axodotdev/tap/dist",
      "description": "Install prebuilt binaries via Homebrew"
    },
    "sha256.sum": {
      "name": "sha256.sum",
      "kind": "unified-checksum"
    },
    "source.tar.gz": {
      "name": "source.tar.gz",
      "kind": "source-tarball",
      "checksum": "source.tar.gz.sha256"
    },
    "source.tar.gz.sha256": {
      "name": "source.tar.gz.sha256",
      "kind": "checksum"
    }
  },
  "systems": {
    "plan:lies:": {
      "id": "plan:lies:",
      "cargo_version_line": "CENSORED"
      "build_environment": "indeterminate"
    }
  },
  "publish_prereleases": false,
  "force_latest": false,
  "ci": {
    "github": {
      "artifacts_matrix": {
        "include": [
          {
            "runner": "macos-13",
            "host": "x86_64-apple-darwin",
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=aarch64-apple-darwin",
            "targets": [
              "aarch64-apple-darwin"
            ],
            "cache_provider": "github"
          },
          {
            "runner": "ubuntu-22.04",
            "host": "x86_64-unknown-linux-gnu",
            "container": {
              "image": "quay.io/pypa/manylinux_2_28_x86_64",
              "host": "x86_64-unknown-linux-musl",
              "package_manager": null
            },
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=aarch64-unknown-linux-gnu",
            "targets": [
              "aarch64-unknown-linux-gnu"
            ],
            "packages_install": "if ! command -v cargo-zigbuild > /dev/null 2>&1; then\n  if ! command -v pip3 > /dev/null 2>&1; then\n    dnf install --assumeyes python3-pip\n    pip3 install --upgrade pip\n  fi\n  pip3 install cargo-zigbuild\nfi",
            "cache_provider": "github"
          },
          {
            "runner": "ubuntu-22.04",
            "host": "x86_64-unknown-linux-gnu",
            "container": {
              "image": "quay.io/pypa/manylinux_2_28_x86_64",
              "host": "x86_64-unknown-linux-musl",
              "package_manager": null
            },
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=aarch64-unknown-linux-musl",
            "targets": [
              "aarch64-unknown-linux-musl"
            ],
            "packages_install": "if ! command -v cargo-zigbuild > /dev/null 2>&1; then\n  if ! command -v pip3 > /dev/null 2>&1; then\n    dnf install --assumeyes python3-pip\n    pip3 install --upgrade pip\n  fi\n  pip3 install cargo-zigbuild\nfi",
            "cache_provider": "github"
          },
          {
            "runner": "macos-13",
            "host": "x86_64-apple-darwin",
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=x86_64-apple-darwin",
            "targets": [
              "x86_64-apple-darwin"
            ],
            "cache_provider": "github"
          },
          {
            "runner": "windows-2019",
            "host": "x86_64-pc-windows-msvc",
            "install_dist": {
              "shell": "pwsh",
              "run": "irm https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.ps1 | iex"
            },
            "dist_args": "--artifacts=local --target=x86_64-pc-windows-msvc",
            "targets": [
              "x86_64-pc-windows-msvc"
            ],
            "cache_provider": "github"
          },
          {
            "runner": "ubuntu-22.04",
            "host": "x86_64-unknown-linux-gnu",
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=x86_64-unknown-linux-gnu",
            "targets": [
              "x86_64-unknown-linux-gnu"
            ],
            "cache_provider": "github"
          },
          {
            "runner": "ubuntu-22.04",
            "host": "x86_64-unknown-linux-gnu",
            "install_dist": {
              "shell": "sh",
              "run": "curl --proto '=https' --tlsv1.2 -LsSf https://github.com/axodotdev/cargo-dist/releases/download/v1.0.0-FAKEVERSION/cargo-dist-installer.sh | sh"
            },
            "dist_args": "--artifacts=local --target=x86_64-unknown-linux-musl",
            "targets": [
              "x86_64-unknown-linux-musl"
            ],
            "packages_install": "sudo apt-get update\nsudo apt-get install musl-tools",
            "cache_provider": "github"
          }
        ]
      },
      "pr_run_mode": "plan"
    }
  },
  "linkage": [],
  "upload_files": [],
  "github_attestations": true
}

stderr:
INFO: You've enabled Axo Releases, which is currently in Closed Beta.
If you haven't yet signed up, please join our discord
(https://discord.gg/ECnWuUUXQk) or message hello@axo.dev to get started!
